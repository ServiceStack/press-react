import{j as n}from"./index-DCVUVLDG.js";function a(s){const e={a:"a",blockquote:"blockquote",code:"code",div:"div",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...s.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.p,{children:[`The best way to find out what's new in .NET 8 Blazor is to watch the excellent
`,n.jsx(e.a,{href:"https://www.youtube.com/watch?v=QD2-DwuOfKM",children:"Full stack web UI with Blazor in .NET 8"}),` presentation by Daniel Roth and Steve Sanderson,
which covers how Blazor has become a Full Stack UI Web Technology for developing any kind of .NET Web App.`]}),`
`,`
`,n.jsx(e.h2,{children:"Your first .NET 8 Blazor App"}),`
`,n.jsx(e.p,{children:`You don't get to appreciate what this means until you create your first .NET 8 Blazor App where you'll be pleasantly
surprised that Blazor Apps render fast, clean HTML without needing to load large Web Assembly assets needed for
Blazor WebAssembly Apps or starting a stateful Web Socket connection required for Blazor Server Interactive Apps.`}),`
`,n.jsxs(e.p,{children:["This is because the ",n.jsx(e.strong,{children:"default rendering mode"}),` for Blazor uses neither of these technologies, instead it returns to
traditional Web App development where Blazor Pages now return clean, glorious HTML - courtesy of Blazor's
`,n.jsx(e.a,{href:"https://learn.microsoft.com/en-us/aspnet/core/blazor/components/render-modes",children:"Static render mode"}),"."]}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://learn.microsoft.com/en-us/aspnet/core/blazor/components/render-modes",children:n.jsx(e.img,{src:"https://servicestack.net/img/posts/net8-best-blazor/blazor-ssr.png",alt:""})})}),`
`,n.jsx(e.h2,{children:"Choose your compromise"}),`
`,n.jsx(e.p,{children:`Previously we were forced to choose upfront whether we wanted to build a Blazor Web Assembly App or a Blazor Server App and
the compromises that came with them, which for public Internet Web Apps wasn't even a choice as Blazor Server Apps perform poorly
over high latency Internet connections.`}),`
`,n.jsxs(e.p,{children:[`This meant choosing Blazor Web Assembly Apps which required downloading a large Web Assembly runtime
with users experiencing a long delay before the App was functional. To minimize this impact our Blazor WebAssembly Tailwind template
included `,n.jsx(e.a,{href:"https://blazor-tailwind.jamstacks.net/docs/prerender",children:"built-in prerendering"}),` where as part of deployment would
generate `,n.jsx(e.strong,{children:"static .html pages"}),` that were deployed with the Blazor Web Assembly front-end UI that can be hosted on CDN
edge networks to further improve load times.`]}),`
`,n.jsx(e.p,{children:`Whilst this meant the App's UI would be rendered immediately, it still wouldn't be functional until the Web Assembly runtime was
downloaded and initialized, which would flicker as the static UI was replaced with Blazor's WASM rendered UI, then later
Authenticated users would experience further delay and UI jank whilst the App signs in the Authenticated User.
Whilst prerendering is an improvement over Blazor WASM's default blank loading screen, it's still not ideal for public facing Web Apps.`}),`
`,n.jsx(e.h2,{children:".NET 8 Blazor is a Game Changer"}),`
`,n.jsxs(e.p,{children:[`The situation has greatly improved in .NET 8 where your entire App no longer needs to be bound to a single Interactivity mode.
Even better, Blazor's default `,n.jsx(e.strong,{children:"static rendering"}),` mode results in the best UX where the Website Layout and important
landing pages can be rendered instantly.`]}),`
`,n.jsx(e.h3,{children:"Interactive only when you need it"}),`
`,n.jsxs(e.p,{children:[`Only pages that need Blazor's interactivity features can opt-in to whichever Blazor interactive rendering mode makes
the most sense, either on a page-by-page or component basis, or by choosing `,n.jsx(e.code,{children:"RenderMode.InteractiveAuto"}),` which uses
`,n.jsx(e.strong,{children:"InteractiveWebAssembly"})," if the WASM runtime is loaded or ",n.jsx(e.strong,{children:"InteractiveServer"})," if it isn't."]}),`
`,n.jsx(e.h3,{children:"Enhanced Navigation FTW"}),`
`,n.jsxs(e.p,{children:["Ultimately I expect Blazor's new ",n.jsx(e.strong,{children:"Enhanced Navigation"}),` is likely the feature that will deliver the biggest UX improvement
users will experience given it's enabled by default and gives traditional statically rendered Web Apps instant SPA-like
navigation responsiveness where new pages are swapped in without needing to perform expensive full page reloads.`]}),`
`,n.jsx(e.p,{children:`It's beauty lies in being able to do this as a mostly transparent detail without the traditional SPA complexity of needing
to manage complex state or client-side routing. It's a smart implementation that's able to perform fine-grained
DOM updates to only parts of pages that have changed, providing the ultimate UX of preserving page state,
like populated form fields and scroll position, to deliver a fast and responsive UX that previously wasn't attainable
from the simplicity of a Server Rendered App.`}),`
`,n.jsx(e.p,{children:`Its implementation does pose some challenges in implementing certain features, but we'll cover some approaches
below we've used to overcome them below.`}),`
`,n.jsx(e.h3,{children:"Full Stack Web UI"}),`
`,n.jsx(e.p,{children:`Blazor's static rendering with enhanced navigation and its opt-in flexibility makes .NET 8 Blazor a game changer,
expanding it from a very niche set of use-cases that weren't too adversely affected by its Interactivity mode downsides,
to becoming a viable solution for developing any kind of .NET Web App, especially as it can also be utilized within
existing ASP.NET MVC and Razor Pages Apps.`}),`
`,n.jsx(e.h3,{children:"Benefits over MVC and Razor Pages"}),`
`,n.jsxs(e.p,{children:[`In addition, Blazor's superior component model allows building better encapsulated, more reusable and easier-to-use UI components
which has enabled Blazor's rich 3rd Party library ecosystem to flourish, that we ourselves utilize to develop
the high productivity Tailwind Components in the `,n.jsx(e.a,{href:"https://blazor-gallery.servicestack.net",children:"ServiceStack.Blazor"})," component library."]}),`
`,n.jsx(e.p,{children:`So far there's only upsides for .NET Web App development, the compromises only kick in when you need Blazor's interactivity features,
luckily these can now be scoped to just the Pages and Components that need them. But how often do we need them?`}),`
`,n.jsx(e.h3,{children:"When do you need Blazor's Interactivity features?"}),`
`,n.jsx(e.p,{children:`It ultimately depends on what App your building, but a lot of Websites can happily display dynamic content, navigate quickly
with enhanced navigation, fill out and submit forms - all in Blazor's default static rendering mode.`}),`
`,n.jsxs(e.p,{children:["Not even advanced features like ",n.jsx(e.strong,{children:"Streaming Rendering"}),` used in Blazor Template's
`,n.jsx(e.a,{href:"https://github.com/dotnet/aspnetcore/blob/v8.0.0-rc.2.23480.2/src/ProjectTemplates/Web.ProjectTemplates/content/BlazorWeb-CSharp/BlazorWeb-CSharp/Components/Pages/Weather.razor",children:"Weather.razor"}),`
page require interactivity, as its progressive rendered UI updates are achieved in a single request without interactivity.`]}),`
`,n.jsxs(e.p,{children:["In fact the only time ",n.jsx(e.code,{children:"@rendermode InteractiveServer"}),` is needed in the default Blazor template is in the
`,n.jsx(e.a,{href:"https://github.com/dotnet/aspnetcore/blob/v8.0.0-rc.2.23480.2/src/ProjectTemplates/Web.ProjectTemplates/content/BlazorWeb-CSharp/BlazorWeb-CSharp/Components/Pages/Counter.razor#L3",children:"Counter.razor"}),`
page whose C# Event Handling require it.`]}),`
`,n.jsx(e.p,{children:`Ultimately some form of Interactivity is going to be required in order to add behavior or client-side functionality that
runs after pages have been rendered, but you still have some options left before being forced to opt into an Interactive Blazor solution.`}),`
`,n.jsx(e.h3,{children:"Interactive Feature Options"}),`
`,n.jsxs(e.p,{children:[`We can see some of these options utilized in the Blazor Template
`,n.jsx(e.a,{href:"https://github.com/dotnet/aspnetcore/blob/v8.0.0-rc.2.23480.2/src/ProjectTemplates/Web.ProjectTemplates/content/BlazorWeb-CSharp/BlazorWeb-CSharp/Components/Layout/NavMenu.razor",children:"NavMenu.razor"}),`
component which uses JavaScript `,n.jsx(e.code,{children:"onclick"})," event handlers to add client-side behavior to simulate mouse clicks to toggle UI elements:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"nav-scrollable",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsxs(e.span,{className:"token special-attr",children:[n.jsx(e.span,{className:"token attr-name",children:"onclick"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),n.jsxs(e.span,{className:"token value javascript language-javascript",children:[n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"querySelector"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'.navbar-toggler'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"click"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})]}),n.jsx(e.span,{className:"token punctuation",children:'"'})]})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsx(e.p,{children:"and submitting forms to Logout users:"}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"LogoutForm"]})," ",n.jsx(e.span,{className:"token attr-name",children:"id"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"logout-form",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token punctuation",children:"/>"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"NavLink"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"nav-link",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsxs(e.span,{className:"token special-attr",children:[n.jsx(e.span,{className:"token attr-name",children:"onclick"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),n.jsxs(e.span,{className:"token value javascript language-javascript",children:[n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"getElementById"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'logout-form'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"submit"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:";"})," ",n.jsx(e.span,{className:"token keyword control-flow",children:"return"})," ",n.jsx(e.span,{className:"token boolean",children:"false"}),n.jsx(e.span,{className:"token punctuation",children:";"})]}),n.jsx(e.span,{className:"token punctuation",children:'"'})]})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
    `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"span"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"bi bi-arrow-bar-left",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"aria-hidden"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"true",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"span"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),` Logout
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"NavLink"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsx(e.p,{children:"Effectively adding interactivity to Blazor static rendered pages with client-side JavaScript to avoid paying Blazor's Interactivity tax."}),`
`,n.jsx(e.h4,{children:"Avoid using Interactivity in Layouts"}),`
`,n.jsx(e.p,{children:`This is especially important for any features you want to add to the Websites Layout or Chrome UI which you'll always want to be
statically rendered so landing pages can load fast and render SEO-friendly server rendered content.`}),`
`,n.jsxs(e.p,{children:["This meant we couldn't use ServiceStack.Blazor's existing ",n.jsx(e.a,{href:"https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack.Blazor/src/ServiceStack.Blazor/Components/Tailwind/DarkModeToggle.razor",children:"DarkModeToggle.razor"}),`
component for toggling on/off DarkMode since its statically rendered inside the Websites Layout and requires Interactivity to work.`]}),`
`,n.jsx(e.h3,{children:"Vanilla JS Blazor Components"}),`
`,n.jsxs(e.p,{children:[`Fortunately utilizing simple element JavaScript callbacks was enough to be able to re-implement its functionality with Vanilla JS
in the new `,n.jsx(e.a,{href:"https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack.Blazor/src/ServiceStack.Blazor/Components/Tailwind/DarkModeToggleLite.razor",children:"DarkModeToggleLite.razor"}),`
component which works in all Blazor rendering modes, in both full-page or enhanced navigation loads:`]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"button"]})," ",n.jsx(e.span,{className:"token attr-name",children:"type"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"button",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsxs(e.span,{className:"token special-attr",children:[n.jsx(e.span,{className:"token attr-name",children:"onclick"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),n.jsxs(e.span,{className:"token value javascript language-javascript",children:[n.jsx(e.span,{className:"token function",children:"toggleDarkMode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})]}),n.jsx(e.span,{className:"token punctuation",children:'"'})]})]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),"@ClassNames(DarkModeToggle.ButtonClasses,"]})," ",n.jsx(e.span,{className:"token attr-name",children:"Class)"})," ",n.jsx(e.span,{className:"token attr-name",children:"role"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"switch",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"aria-checked"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"false",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"@attributes"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"AdditionalAttributes",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
    `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"span"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"@DarkModeToggle.InnerClasses",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-light"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"translate-x-5",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-dark"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"translate-x-0",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
        `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"span"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"@DarkModeToggle.IconClasses",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-light"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"opacity-0 ease-out duration-100",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-dark"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"opacity-100 ease-in duration-200",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"aria-hidden"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"true",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
            `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"svg"]})," ",n.jsx(e.span,{className:"token attr-name",children:"xmlns"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"http://www.w3.org/2000/svg",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"h-4 w-4 text-gray-400",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"preserveAspectRatio"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"xMidYMid meet",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"viewBox"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"0 0 32 32",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"path"]})," ",n.jsx(e.span,{className:"token attr-name",children:"fill"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"currentColor",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"d"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token punctuation",children:"/>"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"svg"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
        `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"span"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
        `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"span"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"@DarkModeToggle.IconClasses",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-light"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"opacity-100 ease-in duration-200",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-class-dark"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"opacity-0 ease-out duration-100",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"aria-hidden"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"true",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
            `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"svg"]})," ",n.jsx(e.span,{className:"token attr-name",children:"xmlns"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"http://www.w3.org/2000/svg",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"h-4 w-4 text-indigo-600",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"preserveAspectRatio"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"xMidYMid meet",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"viewBox"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"0 0 32 32",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"path"]})," ",n.jsx(e.span,{className:"token attr-name",children:"fill"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"currentColor",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"d"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token punctuation",children:"/>"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"svg"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
        `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"span"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
    `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"span"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"button"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`

`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsx(e.span,{className:"token script",children:n.jsxs(e.span,{className:"token language-javascript",children:[`
`,n.jsx(e.span,{className:"token dom variable",children:"window"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"toggleDarkMode"})," ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token keyword",children:"function"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token keyword",children:"let"})," isDark ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token dom variable",children:"localStorage"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"getItem"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'color-scheme'"}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token operator",children:"==="})," ",n.jsx(e.span,{className:"token string",children:"'dark'"}),`
    `,n.jsx(e.span,{className:"token keyword",children:"const"})," html ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"documentElement"}),`
    `,n.jsx(e.span,{className:"token keyword",children:"function"})," ",n.jsx(e.span,{className:"token function",children:"renderDarkMode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        html`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"style"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"setProperty"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'color-scheme'"}),n.jsx(e.span,{className:"token punctuation",children:","})," isDark ",n.jsx(e.span,{className:"token operator",children:"?"})," ",n.jsx(e.span,{className:"token string",children:"'dark'"})," ",n.jsx(e.span,{className:"token operator",children:":"})," ",n.jsx(e.span,{className:"token keyword null nil",children:"null"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
        html`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classList"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"toggle"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'dark'"}),n.jsx(e.span,{className:"token punctuation",children:","})," isDark",n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"querySelectorAll"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'[data-class-light]'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"forEach"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token parameter",children:"el"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
            `,n.jsx(e.span,{className:"token keyword",children:"const"})," removeClasses ",n.jsx(e.span,{className:"token operator",children:"="}),` isDark
                    `,n.jsx(e.span,{className:"token operator",children:"?"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classLight"}),`
                    `,n.jsx(e.span,{className:"token operator",children:":"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classDark"}),`
            `,n.jsx(e.span,{className:"token keyword",children:"const"})," addClasses ",n.jsx(e.span,{className:"token operator",children:"="}),` isDark
                    `,n.jsx(e.span,{className:"token operator",children:"?"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classDark"}),`
                    `,n.jsx(e.span,{className:"token operator",children:":"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classLight"}),`

            removeClasses`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"split"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"' '"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"forEach"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token parameter",children:"c"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classList"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"remove"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"c",n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
            addClasses`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"split"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"' '"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"forEach"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token parameter",children:"c"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classList"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"add"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"c",n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token punctuation",children:"}"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
    `,n.jsx(e.span,{className:"token function",children:"renderDarkMode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),`

    `,n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"addEventListener"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'DOMContentLoaded'"}),n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"}),`
            `,n.jsx(e.span,{className:"token maybe-class-name",children:"Blazor"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"addEventListener"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'enhancedload'"}),n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
                isDark `,n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token dom variable",children:"localStorage"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"getItem"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'color-scheme'"}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token operator",children:"==="})," ",n.jsx(e.span,{className:"token string",children:"'dark'"}),`
                html`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"classList"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"toggle"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'dark'"}),n.jsx(e.span,{className:"token punctuation",children:","})," isDark",n.jsx(e.span,{className:"token punctuation",children:")"}),`
                `,n.jsx(e.span,{className:"token function",children:"renderDarkMode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
            `,n.jsx(e.span,{className:"token punctuation",children:"}"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`

    `,n.jsx(e.span,{className:"token keyword control-flow",children:"return"})," ",n.jsx(e.span,{className:"token keyword",children:"function"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        isDark `,n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token operator",children:"!"}),`isDark
        `,n.jsx(e.span,{className:"token dom variable",children:"localStorage"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"setItem"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'color-scheme'"}),n.jsx(e.span,{className:"token punctuation",children:","})," isDark ",n.jsx(e.span,{className:"token operator",children:"?"})," ",n.jsx(e.span,{className:"token string",children:"'dark'"})," ",n.jsx(e.span,{className:"token operator",children:":"})," ",n.jsx(e.span,{className:"token string",children:"'light'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token function",children:"renderDarkMode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`]})}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsxs(e.p,{children:["To support enhanced navigation you'll need to be aware that ",n.jsx(e.code,{children:"<script>"})," tags are ",n.jsx(e.strong,{children:"only executed once"}),` on initial page load.
You'll instead need to register a callback with Blazor's `,n.jsx(e.code,{children:"enhancedload"}),` event for any startup logic that needs re-executing,
which is fired after Blazor merges the new page's DOM with the existing DOM, and is where the `,n.jsx(e.code,{children:"<DarkModeToggleLite>"}),`
component re-renders itself with the correct state.`]}),`
`,n.jsxs(e.p,{children:["When using callbacks to invoke global functions like this it's recommended to wrap them in an ",n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/IIFE",children:"IIFE"}),`
for better encapsulation of internal component state and functionality to avoid polluting the global namespace.`]}),`
`,n.jsx(e.h3,{children:"Try it out!"}),`
`,n.jsxs(e.p,{children:["With that it's ready for action, try it out in a new ",n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor",children:"blazor"}),` Project
or from its Live Demo by toggling on/off Dark Mode Component in the top right corner:`]}),`
`,`
`,n.jsx(e.h3,{children:"Declarative JavaScript Modules"}),`
`,n.jsxs(e.p,{children:[`Unfortunately a lot of other approaches won't work with Blazor's Enhanced Navigation, for example whilst the built-in
ASP.NET Identity Pages all work without Blazor's Interactivity, the `,n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor/blob/main/MyApp/Components/Pages/Account/Manage/EnableAuthenticator.razor",children:"EnableAuthenticator.razor"}),`
page doesn't actually include a solution for providing a visual QR Code barcode which mobile phones can easily scan to
setup 2FA Authentication.`]}),`
`,n.jsx(e.p,{children:`Whilst the placeholders are there, that implementation detail is left to us to workout how we best want to implement it
within our Apps, perhaps because they don't want to force an Interactivity rendering mode in the default template.`}),`
`,n.jsxs(e.p,{children:[`To avoid a degraded UX with Blazor Interactivity you'll naturally want to implement this with JavaScript using the popular
`,n.jsx(e.a,{href:"https://davidshimjs.github.io/qrcodejs/",children:"qrcodejs"})," library by following its instructions and adding a simple inline script to the page:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-permanent"})," ",n.jsx(e.span,{className:"token attr-name",children:"id"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"qrCode",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"div"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"id"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"qrCodeData",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-url"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"@_authenticatorUri",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"div"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`

`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"script"]})," ",n.jsx(e.span,{className:"token attr-name",children:"src"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"lib/js/qrcode.min.js",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsx(e.span,{className:"token script"}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsx(e.span,{className:"token script",children:n.jsxs(e.span,{className:"token language-javascript",children:[`
`,n.jsx(e.span,{className:"token keyword",children:"new"})," ",n.jsx(e.span,{className:"token class-name",children:"QRCode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"getElementById"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'qrCode'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:","}),` 
    `,n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"getElementById"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'qrCodeData'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"url"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`]})}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsxs(e.p,{children:["Whilst this works as expected in full page reloads, it doesn't work in Blazor's Enhanced Navigation as the ",n.jsx(e.code,{children:"<script>"}),` tag
is only executed once on initial page load and not re-executed when the page is loaded with enhanced navigation.`]}),`
`,n.jsxs(e.p,{children:["Your options are to change all links to that page with ",n.jsx(e.code,{children:'data-enhance-nav="false"'}),` to turn off enhanced navigation
to that page, or we need to find another way.`]}),`
`,n.jsxs(e.p,{children:[`The solution that worked best for us is to use declarative instructions to specify which JavaScript modules should be loaded
for any page, which we can do by adding a `,n.jsx(e.code,{children:"data-module"})," attribute to any element, e.g:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-module"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"pages/Account/Manage/EnableAuthenticator.mjs",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsxs(e.p,{children:["These instructions are then handled by ",n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor/blob/main/MyApp/wwwroot/mjs/app.mjs",children:"app.mjs"}),`
on each navigation which loads the specified JavaScript module and calls its `,n.jsx(e.code,{children:"load()"})," function if it exists:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-js",children:n.jsxs(e.code,{className:"language-js",children:[n.jsx(e.span,{className:"token keyword module",children:"export"})," ",n.jsx(e.span,{className:"token keyword",children:"async"})," ",n.jsx(e.span,{className:"token keyword",children:"function"})," ",n.jsx(e.span,{className:"token function",children:"remount"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"querySelectorAll"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'[data-module]'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"forEach"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token keyword",children:"async"})," ",n.jsx(e.span,{className:"token parameter",children:"el"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        `,n.jsx(e.span,{className:"token keyword",children:"let"})," modulePath ",n.jsx(e.span,{className:"token operator",children:"="})," el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"module"}),`
        `,n.jsx(e.span,{className:"token keyword control-flow",children:"if"})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token operator",children:"!"}),"modulePath",n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token keyword control-flow",children:"return"}),`
        `,n.jsx(e.span,{className:"token keyword control-flow",children:"if"})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token operator",children:"!"}),"modulePath",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"startsWith"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'/'"}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token operator",children:"&&"})," ",n.jsx(e.span,{className:"token operator",children:"!"}),"modulePath",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"startsWith"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'.'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
            modulePath `,n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsxs(e.span,{className:"token template-string",children:[n.jsx(e.span,{className:"token template-punctuation string",children:"`"}),n.jsx(e.span,{className:"token string",children:"../"}),n.jsxs(e.span,{className:"token interpolation",children:[n.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"${"}),"modulePath",n.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),n.jsx(e.span,{className:"token template-punctuation string",children:"`"})]}),`
        `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
        `,n.jsx(e.span,{className:"token keyword control-flow",children:"try"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
            `,n.jsx(e.span,{className:"token keyword",children:"const"})," module ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token keyword control-flow",children:"await"})," ",n.jsx(e.span,{className:"token keyword module",children:"import"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"modulePath",n.jsx(e.span,{className:"token punctuation",children:")"}),`
            `,n.jsx(e.span,{className:"token keyword control-flow",children:"if"})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token keyword",children:"typeof"})," module",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token keyword module",children:"default"}),n.jsx(e.span,{className:"token operator",children:"?."}),"load ",n.jsx(e.span,{className:"token operator",children:"=="})," ",n.jsx(e.span,{className:"token string",children:"'function'"}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
                module`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token keyword module",children:"default"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"load"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
            `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
        `,n.jsx(e.span,{className:"token punctuation",children:"}"})," ",n.jsx(e.span,{className:"token keyword control-flow",children:"catch"})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),"e",n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
            `,n.jsx(e.span,{className:"token console class-name",children:"console"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"error"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsxs(e.span,{className:"token template-string",children:[n.jsx(e.span,{className:"token template-punctuation string",children:"`"}),n.jsx(e.span,{className:"token string",children:"Couldn't load module "}),n.jsxs(e.span,{className:"token interpolation",children:[n.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"${"}),"el",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"module"}),n.jsx(e.span,{className:"token interpolation-punctuation punctuation",children:"}"})]}),n.jsx(e.span,{className:"token template-punctuation string",children:"`"})]}),n.jsx(e.span,{className:"token punctuation",children:","})," e",n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`

`,n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"addEventListener"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'DOMContentLoaded'"}),n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"}),`
    `,n.jsx(e.span,{className:"token maybe-class-name",children:"Blazor"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"addEventListener"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'enhancedload'"}),n.jsx(e.span,{className:"token punctuation",children:","})," remount",n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`]})})}),`
`,n.jsxs(e.p,{children:["Which for ",n.jsx(e.code,{children:"EnableAuthenticator.razor"}),` page loads the
`,n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor/blob/main/MyApp/wwwroot/pages/Account/Manage/EnableAuthenticator.mjs",children:"EnableAuthenticator.mjs"}),`
JavaScript Module which dynamically loads the `,n.jsx(e.code,{children:"qrcode.min.js"})," library and initializes the QR Code on its exported ",n.jsx(e.code,{children:"load()"})," function:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-js",children:n.jsxs(e.code,{className:"language-js",children:[n.jsx(e.span,{className:"token keyword module",children:"import"})," ",n.jsxs(e.span,{className:"token imports",children:[n.jsx(e.span,{className:"token punctuation",children:"{"})," addScript",n.jsx(e.span,{className:"token punctuation",children:","})," $1 ",n.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",n.jsx(e.span,{className:"token keyword module",children:"from"})," ",n.jsx(e.span,{className:"token string",children:'"@servicestack/client"'}),`
`,n.jsx(e.span,{className:"token keyword",children:"const"})," loadJs ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token function",children:"addScript"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'lib/js/qrcode.min.js'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`

`,n.jsx(e.span,{className:"token keyword module",children:"export"})," ",n.jsx(e.span,{className:"token keyword module",children:"default"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token keyword",children:"async"})," ",n.jsx(e.span,{className:"token function",children:"load"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        `,n.jsx(e.span,{className:"token keyword control-flow",children:"await"}),` loadJs
        `,n.jsx(e.span,{className:"token keyword",children:"new"})," ",n.jsx(e.span,{className:"token class-name",children:"QRCode"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token function",children:"$1"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:'"#qrCode"'}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token function",children:"$1"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'#qrCodeData'"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"dataset"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"url"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`]})})}),`
`,n.jsx(e.p,{children:"Which now works as expected in both full page reloads and Blazor's Enhanced Navigation:"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://blazor.web-templates.io/Account/Manage/EnableAuthenticator",children:n.jsx(e.img,{src:"https://servicestack.net/img/posts/net8-best-blazor/blazor-identityauth-qrcode.png",alt:""})})}),`
`,n.jsx(e.h2,{children:"Blazor without Blazor Interactivity"}),`
`,n.jsx(e.p,{children:`So right now we have a Blazor App that's predominantly statically rendered, with fast and SEO-friendly without any downsides
of the Blazor's Interactivity options, but how much of our App's functionality can we implement without Blazor Interactivity?`}),`
`,n.jsx(e.h3,{children:"What doesn't work with Enhanced Navigation"}),`
`,n.jsxs(e.p,{children:[`As of now we've managed to implement most of the required functionality with Vanilla JS, however for any moderately complex
UI you'll likely want to use one of the popular JavaScript UI libraries, of which we believe `,n.jsx(e.a,{href:"https://vuejs.org",children:"Vue.js"}),`
is the best library for progressively enhancing statically rendered content which offers the best balance of features,
performance and size.`]}),`
`,n.jsx(e.p,{children:`The problem being that the natural way to use Vue.js to progressively enhance HTML content doesn't work with Blazor's
Enhanced Navigation.`}),`
`,n.jsxs(e.p,{children:["E.g the natural way to implement Blazor's ",n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor/blob/main/MyApp/Components/Pages/Counter.razor",children:"Counter.razor"}),`
page in Vue is to `,n.jsx(e.a,{href:"https://vuejs.org/guide/essentials/template-syntax.html",children:"implement its UI"}),` in HTML and use JavaScript
to mount the component with the element:`]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"id"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"content",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
    `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"p"]})," ",n.jsx(e.span,{className:"token attr-name",children:"class"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"my-4",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),"Current count: {{currentCount}}",n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"p"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`

    `,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"primary-button"]})," ",n.jsxs(e.span,{className:"token attr-name",children:[n.jsx(e.span,{className:"token namespace",children:"v-on:"}),"click"]}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"incrementCount",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),"Click me",n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"primary-button"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"div"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`,n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"script"]})," ",n.jsx(e.span,{className:"token attr-name",children:"type"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"module",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsx(e.span,{className:"token script",children:n.jsxs(e.span,{className:"token language-javascript",children:[`
`,n.jsx(e.span,{className:"token keyword module",children:"import"})," ",n.jsxs(e.span,{className:"token imports",children:[n.jsx(e.span,{className:"token punctuation",children:"{"})," ref ",n.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",n.jsx(e.span,{className:"token keyword module",children:"from"})," ",n.jsx(e.span,{className:"token string",children:"'vue'"}),`
`,n.jsx(e.span,{className:"token keyword module",children:"import"})," ",n.jsxs(e.span,{className:"token imports",children:[n.jsx(e.span,{className:"token punctuation",children:"{"})," mount ",n.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",n.jsx(e.span,{className:"token keyword module",children:"from"})," ",n.jsx(e.span,{className:"token string",children:"'app.mjs'"}),`

`,n.jsx(e.span,{className:"token keyword",children:"const"})," ",n.jsx(e.span,{className:"token maybe-class-name",children:"App"})," ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token function",children:"setup"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        `,n.jsx(e.span,{className:"token keyword",children:"const"})," currentCount ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token function",children:"ref"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token number",children:"0"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token keyword",children:"const"})," ",n.jsx(e.span,{className:"token function-variable function",children:"incrementCount"})," ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," currentCount",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"value"}),n.jsx(e.span,{className:"token operator",children:"++"}),`

        `,n.jsx(e.span,{className:"token keyword control-flow",children:"return"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"})," currentCount",n.jsx(e.span,{className:"token punctuation",children:","})," incrementCount ",n.jsx(e.span,{className:"token punctuation",children:"}"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`,n.jsx(e.span,{className:"token function",children:"mount"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token string",children:"'#content'"}),n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token maybe-class-name",children:"App"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`]})}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"script"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),`
`]})})}),`
`,n.jsx(e.p,{children:`Which as you'd expect works in full page reloads, but not with Enhanced Navigation, where no JavaScript
is re-executed upon navigation, leaving it as inert HTML.`}),`
`,n.jsx(e.h2,{children:"Declarative Vue Components"}),`
`,n.jsxs(e.p,{children:[`Thankfully we can use the same approach we used for loading JavaScript modules to load Vue.js components, by using the
`,n.jsx(e.code,{children:"data-component"})," attribute to specify which ",n.jsx(e.strong,{children:"global"}),` Vue component to mount with any properties optionally
specified in the`,n.jsx(e.code,{children:"data-props"})," attribute, e.g:"]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-component"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"GettingStarted",n.jsx(e.span,{className:"token punctuation",children:'"'})]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-props"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"{template:'blazor'}",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"div"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),` 
`]})})}),`
`,n.jsx(e.p,{children:"This does require ensuring all components loaded this way are registered as a global component, as done in:"}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-js",children:n.jsxs(e.code,{className:"language-js",children:[n.jsx(e.span,{className:"token keyword module",children:"import"})," ",n.jsx(e.span,{className:"token imports",children:n.jsx(e.span,{className:"token maybe-class-name",children:"GettingStarted"})})," ",n.jsx(e.span,{className:"token keyword module",children:"from"})," ",n.jsx(e.span,{className:"token string",children:'"./components/GettingStarted.mjs"'}),`

`,n.jsx(e.span,{className:"token doc-comment comment",children:"/** Shared Global Components */"}),`
`,n.jsx(e.span,{className:"token keyword",children:"const"})," ",n.jsx(e.span,{className:"token maybe-class-name",children:"Components"})," ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token maybe-class-name",children:"GettingStarted"}),n.jsx(e.span,{className:"token punctuation",children:","}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`

`,n.jsx(e.span,{className:"token keyword module",children:"export"})," ",n.jsx(e.span,{className:"token keyword",children:"function"})," ",n.jsx(e.span,{className:"token function",children:"mount"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsxs(e.span,{className:"token parameter",children:["sel",n.jsx(e.span,{className:"token punctuation",children:","})," component",n.jsx(e.span,{className:"token punctuation",children:","})," props"]}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token keyword",children:"const"})," app ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token function",children:"createApp"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"component",n.jsx(e.span,{className:"token punctuation",children:","})," props",n.jsx(e.span,{className:"token punctuation",children:")"}),`
    `,n.jsx(e.span,{className:"token known-class-name class-name",children:"Object"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"keys"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token maybe-class-name",children:"Components"}),n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"forEach"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token parameter",children:"name"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        app`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"component"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"name",n.jsx(e.span,{className:"token punctuation",children:","})," ",n.jsx(e.span,{className:"token maybe-class-name",children:"Components"}),n.jsx(e.span,{className:"token punctuation",children:"["}),"name",n.jsx(e.span,{className:"token punctuation",children:"]"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
    app`,n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"mount"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token dom variable",children:"document"}),n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token method function property-access",children:"querySelector"}),n.jsx(e.span,{className:"token punctuation",children:"("}),"sel",n.jsx(e.span,{className:"token punctuation",children:")"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`]})})}),`
`,n.jsx(e.p,{children:`However this also means that all global components would need to be downloaded before any Vue Components can be rendered
the first time a website is accessed. Which wont be an issue after the first page is loaded after the browser caches all
its JS Module dependencies, but we can do better.`}),`
`,n.jsx(e.h3,{children:"Lazy Loading Vue Components"}),`
`,n.jsxs(e.p,{children:["To avoid this we can instead use the ",n.jsx(e.code,{children:"data-component"}),` attribute to specify the path to the Vue component to load,
ensuring that only the Vue components required for the current page is loaded, e.g:`]}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-html",children:n.jsxs(e.code,{className:"language-html",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"<"}),"div"]})," ",n.jsx(e.span,{className:"token attr-name",children:"data-component"}),n.jsxs(e.span,{className:"token attr-value",children:[n.jsx(e.span,{className:"token punctuation attr-equals",children:"="}),n.jsx(e.span,{className:"token punctuation",children:'"'}),"pages/Counter.mjs",n.jsx(e.span,{className:"token punctuation",children:'"'})]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),n.jsxs(e.span,{className:"token tag",children:[n.jsxs(e.span,{className:"token tag",children:[n.jsx(e.span,{className:"token punctuation",children:"</"}),"div"]}),n.jsx(e.span,{className:"token punctuation",children:">"})]}),` 
`]})})}),`
`,n.jsx(e.p,{children:"Which is how we can implement Vue Components that work in both statically rendered and enhanced navigation pages:"}),`
`,n.jsx(e.div,{className:"remark-highlight",children:n.jsx(e.pre,{className:"language-js",children:n.jsxs(e.code,{className:"language-js",children:[n.jsx(e.span,{className:"token keyword module",children:"import"})," ",n.jsxs(e.span,{className:"token imports",children:[n.jsx(e.span,{className:"token punctuation",children:"{"})," ref ",n.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",n.jsx(e.span,{className:"token keyword module",children:"from"})," ",n.jsx(e.span,{className:"token string",children:"'vue'"}),`

`,n.jsx(e.span,{className:"token keyword module",children:"export"})," ",n.jsx(e.span,{className:"token keyword module",children:"default"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
    `,n.jsx(e.span,{className:"token literal-property property",children:"template"}),n.jsx(e.span,{className:"token operator",children:":"})," ",n.jsxs(e.span,{className:"token template-string",children:[n.jsx(e.span,{className:"token template-punctuation string",children:"`"}),n.jsx(e.span,{className:"token string"}),`
`,n.jsx(e.span,{className:"token string",children:'        <p class="my-4">Current count: {{currentCount}}</p>'}),`
`,n.jsx(e.span,{className:"token string"}),`
`,n.jsx(e.span,{className:"token string",children:'        <PrimaryButton @click="incrementCount">Click me</PrimaryButton>'}),`
`,n.jsx(e.span,{className:"token string",children:"    "}),n.jsx(e.span,{className:"token template-punctuation string",children:"`"})]}),n.jsx(e.span,{className:"token punctuation",children:","}),`
    `,n.jsx(e.span,{className:"token function",children:"setup"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"}),`
        `,n.jsx(e.span,{className:"token keyword",children:"const"})," currentCount ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token function",children:"ref"}),n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token number",children:"0"}),n.jsx(e.span,{className:"token punctuation",children:")"}),`
        `,n.jsx(e.span,{className:"token keyword",children:"const"})," ",n.jsx(e.span,{className:"token function-variable function",children:"incrementCount"})," ",n.jsx(e.span,{className:"token operator",children:"="})," ",n.jsx(e.span,{className:"token punctuation",children:"("}),n.jsx(e.span,{className:"token punctuation",children:")"})," ",n.jsx(e.span,{className:"token arrow operator",children:"=>"})," currentCount",n.jsx(e.span,{className:"token punctuation",children:"."}),n.jsx(e.span,{className:"token property-access",children:"value"}),n.jsx(e.span,{className:"token operator",children:"++"}),`

        `,n.jsx(e.span,{className:"token keyword control-flow",children:"return"})," ",n.jsx(e.span,{className:"token punctuation",children:"{"})," currentCount",n.jsx(e.span,{className:"token punctuation",children:","})," incrementCount ",n.jsx(e.span,{className:"token punctuation",children:"}"}),`
    `,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`,n.jsx(e.span,{className:"token punctuation",children:"}"}),`
`]})})}),`
`,n.jsx(e.p,{children:":::{.text-center}"}),`
`,n.jsx(e.h4,{children:"Blazor Counter in Vue.js"}),`
`,n.jsx(e.p,{children:`
:::`}),`
`,n.jsx(e.h2,{children:"The new Blazor Vue Template"}),`
`,n.jsxs(e.p,{children:["This ends up being how the Interactive features in the new ",n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor-vue/",children:"blazor-vue"}),` template
are implemented - ideal for building fast, SEO-friendly statically rendered Blazor Web Apps where all its dynamic functionally
uses Vue.js to progressively enhance its static rendered content - eliminating Blazor's current limitations of being able to
use Blazor static SSR to implement an entire App with:`]}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"https://servicestack.net/img/posts/net8-best-blazor/blazor-ssr-advantages.webp",alt:""})}),`
`,n.jsx(e.h3,{children:"Blazor Vue Tailwind Template"}),`
`,n.jsxs(e.p,{children:["The new ",n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor-vue",children:"blazor-vue"}),` template implements all the features of the
`,n.jsx(e.a,{href:"https://github.com/NetCoreTemplates/blazor",children:"blazor"}),` template but reimplements all its interactive features with
Vue.js to and the `,n.jsx(e.a,{href:"/vue/",children:"Vue Components"})," library."]}),`
`,`
`,`
`,n.jsx(e.h4,{children:"Faster iterative development"}),`
`,n.jsxs(e.p,{children:[`Other benefits of using Vue for Interactivity is the fast iterative feedback loop during development that even applies
to its `,n.jsx(e.a,{href:"https://blazor-vue.web-templates.io/blog",children:"Markdown-powered Blog"}),` which itself can embed rich interactive Vue Components and rich JavaScript UIs
like Chart.js in its `,n.jsx(e.a,{href:"https://blazor-vue.web-templates.io/posts/razor-ssg-new-blog-features",children:"Markdown Blog Posts"}),` thanks to its unapologetic, complexity-free
`,n.jsx(e.a,{href:"https://world.hey.com/dhh/you-can-t-get-faster-than-no-build-7a44131c",children:"#NoBuild"})," solution."]}),`
`,n.jsx(e.h3,{children:"Blazor App Tailwind Template"}),`
`,n.jsxs(e.p,{children:["Alternatively the ",n.jsx(e.a,{href:"/posts/net8-blazor-template",children:"Blazor Project Template"}),` is for C# Developers who prefer
to use Blazor end-to-end for all App functionality, which uses Blazor Server and
`,n.jsx(e.a,{href:"https://blazor-gallery.jamstacks.net/",children:"ServiceStack.Blazor Components"})," on its Pages requiring Interactivity:"]}),`
`,`
`,n.jsx(e.p,{children:`Whilst Blazor Interactivity may remain the predominant solution amongst .NET developers we believe .NET 8 Blazor opens the doors
for progressively enhanced statically-rendered Blazor Apps which has now become our preferred solution for developing
most .NET Web Apps.`}),`
`,n.jsxs(e.p,{children:[`It overcomes our biggest gripe with Blazor Web Assembly, that we were unsuccessful in
`,n.jsx(e.a,{href:"https://blazor-tailwind.jamstacks.net/docs/prerender",children:"prerendering away"}),` its poor startup performance and UI jank
in Internet Apps.`]}),`
`,n.jsx(e.h2,{children:"Blazor Vue Diffusion"}),`
`,n.jsx(e.p,{children:`So when we learned about .NET 8's static default rendering mode and enhanced navigation we jumped at the opportunity to
create the Blazor Vue template which was used to re-implement Blazor Diffusion with Blazor SSR and Vue.js - a statically
rendered Blazor App that uses Vue.js for all its functionality.`}),`
`,`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusion",children:"Blazor Diffusion"}),` is our Blazor Demo App we used to showcase how you
could use `,n.jsx(e.a,{href:"https://youtu.be/66DgLHExC9E",children:"Universal API Components"}),` to build Blazor Components and entire Blazor Apps
whose source code runs in both Blazor Server and Blazor Web Assembly Interactive modes, which was first
developed with `,n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusion",children:"Blazor Server"}),` then used a
`,n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusionWasm/blob/main/sync.bat",children:"sync.bat"}),` script to export its source code into
a `,n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusionWasm",children:"Blazor Web Assembly"})," project that was deployed instead."]}),`
`,n.jsx(e.p,{children:`The Blazor Vue version starts from a clean slate, utilizing statically rendered Blazor for faster page loads and generating
SEO-friendly content:`}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://blazordiffusion.com/",children:n.jsx(e.img,{src:"https://servicestack.net/img/posts/net8-best-blazor/blazordiffusionvue.webp",alt:""})})}),`
`,n.jsx(e.p,{children:`We're very pleased with the results, much faster loading times, enhanced navigation, no UI jankiness, better SEO - essentially
a better UX overall, despite not needing any prerendering solution - all whilst enjoying a faster iterative development experience
where all Vue component changes were immediately visible after save.`}),`
`,n.jsx(e.p,{children:"You can compare the differences of each Blazor Solution from the Live Demos below:"}),`
`,n.jsxs(e.table,{children:[n.jsx(e.thead,{children:n.jsxs(e.tr,{children:[n.jsx(e.th,{}),n.jsx(e.th,{children:"Live Demo"}),n.jsx(e.th,{children:"Source Code"})]})}),n.jsxs(e.tbody,{children:[n.jsxs(e.tr,{children:[n.jsx(e.td,{children:"Blazor Vue"}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://blazordiffusion.com",children:"blazordiffusion.com"})}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusionVue",children:"BlazorDiffusionVue"})})]}),n.jsxs(e.tr,{children:[n.jsx(e.td,{children:"Blazor Web Assembly"}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://api.blazordiffusion.com",children:"api.blazordiffusion.com"})}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusionWasm",children:"BlazorDiffusionWasm"})})]}),n.jsxs(e.tr,{children:[n.jsx(e.td,{children:"Blazor Server"}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://server.blazordiffusion.com",children:"server.blazordiffusion.com"})}),n.jsx(e.td,{children:n.jsx(e.a,{href:"https://github.com/NetCoreApps/BlazorDiffusion",children:"BlazorDiffusion"})})]})]})]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:["All Live Demos are hosted on a shared ",n.jsx(e.a,{href:"http://cloud.hetzner.com",children:"Hetzner Cloud VM"})," using SQLite that's replicated to ",n.jsx(e.a,{href:"https://developers.cloudflare.com/r2/",children:"Cloudflare R2"})," with ",n.jsx(e.a,{href:"https://docs.servicestack.net/ormlite/litestream",children:"Litestream"})]}),`
`]})]})}function c(s={}){const{wrapper:e}=s.components||{};return e?n.jsx(e,{...s,children:n.jsx(a,{...s})}):a(s)}export{c as default};
